execute if entity @s[advancements={bettervanillaadvancements:biomes/treasure_compass=false}] if entity @e[predicate=bettervanillaadvancements:dolphin_with_treasure,distance=..32] run advancement grant @s only bettervanillaadvancements:biomes/treasure_compass
advancement revoke @s only bettervanillaadvancements:technical/open_dolphin_treasure